<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>좌석 배치기</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Material+Icons"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/font-nanumsquare/1.0.0/nanumsquare.css?ver=4.9.8"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/vuetify/dist/vuetify.min.css"
    />
    <style>
      html {
        height: 100%;
      }
      body {
        background: #fafafa;
        word-break: keep-all;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: default;
      }
      .body,
      .application,
      .display-4,
      .display-3,
      .display-2,
      .display-1,
      .title {
        font-family: "Nanum Square", sans-serif;
      }
    </style>
    <!-- <script src="assets/disable.js"></script> -->
  </head>
  <body>
    <main>
      <v-app>
        <div v-html="docs"></div>
      </v-app>
    </main>
    <noscript>
      <style>
        main {
          display: none;
        }
      </style>
      <div
        style="display:flex;align-items:center;justify-content:center;position:fixed;width:100%;height:100%;top:0;left:0;color:white;z-index:1000;"
      >
        <h1>HYUNWOO 구동을 위해서 JavaScript가 필요합니다.</h1>
      </div>
    </noscript>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/vuetify/dist/vuetify.min.js"></script>
    <script src="/__/firebase/5.9.1/firebase-app.js"></script>
    <script src="/__/firebase/5.9.1/firebase-auth.js"></script>
    <script src="/__/firebase/5.9.1/firebase-firestore.js"></script>
    <script>
      if (/*@cc_on!@*/ false) {
        location.replace("https://cdn.hyunwoo.kim/no_IE/#SEAT-POSITIONER");
      }
      firebase.initializeApp({
        apiKey: "AIzaSyCJRMJB6jFeCKRFicXJsnLhVh_Y6oJuCu0",
        authDomain: "seat-positioner.firebaseapp.com",
        databaseURL: "https://hyunwoo-k.firebaseio.com",
        projectId: "seat-positioner",
        storageBucket: "seat-positioner.appspot.com"
      });
      firebase.auth().signInAnonymously();
      var dbRef = firebase.firestore().collection("좌석배치기"),
        v = new Vue({
          el: "v-app",
          data: () => ({
            dialog: false,
            dialogMsg: null,
            loader: null,
            loading: false,
            docs: []
          }),

          watch: {
            loader() {
              const l = this.loader;
              this[l] = !this[l];
              setTimeout(() => (this[l] = false), 2000);
              this.loader = null;
            }
          },

          methods: {
            dialogShow(msg, redirect) {
              this.dialog = true;
              this.dialogMsg = msg;
              this.redirect = redirect;
            },
            fetch() {
              db.get()
                .then(function(querySnapshot) {
                  querySnapshot.forEach(function(doc) {
                    console.log(doc.data());
                    v.docs.push(doc.data());
                  });
                })
                .catch(function(error) {
                  console.log("문서 가져오기 실패: ", error);
                });
            }
          }
        });
    </script>
  </body>
</html>
